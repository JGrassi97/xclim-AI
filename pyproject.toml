[build-system]
requires = ["hatchling>=1.20"]
build-backend = "hatchling.build"

[project]
name = "xclim-ai"
version = "0.1.0"
description = "Auto-generated LangChain tools for xclim indicators"
readme = "README.md"
requires-python = ">=3.10"

authors = [
  { name = "Tuo Nome", email = "tuo@email.com" }
]

license = { text = "MIT" }

# Dipendenze runtime
dependencies = [
  "xclim>=0.45",
  "xarray>=2024.1",
  "pydantic>=2",
  "langchain>=0.1.0",
  "pyyaml>=6"
]

# Dipendenze per i test (opzionali)
[project.optional-dependencies]
test = [
  "pytest>=7.0",
  "pytest-cov>=4.0",
  "pytest-mock>=3.10",
  "pytest-asyncio>=0.21",
  "responses>=0.23.0",
  "factory-boy>=3.2.0"
]

[project.urls]
Homepage = "https://github.com/tuo-utente/xclim-tools"
Repository = "https://github.com/tuo-utente/xclim-tools"
Issues = "https://github.com/tuo-utente/xclim-tools/issues"

[tool.hatch.build.targets.wheel]
packages = ["src/xclim_ai"]

[tool.setuptools.package-data]
"xclim_ai.data" = ["*.yaml"]
"xclim_ai.prompts" = ["**/*.md", "**/*.jinja2"]

[project.scripts]
xclimaug-vs = "xclim_ai.scripts.vectorstore_from_xclim_augmented:main"
xclimgen-vs = "xclim_ai.scripts.vectorstore_from_xclim:main"

valid-tools = "xclim_ai.scripts.valid_tools:main"

xclim-cli = "xclim_ai.cli.xclimai_cli:main"

# Configurazione pytest
[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py", "*_test.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]
addopts = [
  "--strict-markers",
  "--strict-config",
  "--cov=src/xclim_ai",
  "--cov-report=term-missing",
  "--cov-report=html:htmlcov",
  "--cov-report=xml",
]
markers = [
  "unit: Unit tests",
  "integration: Integration tests",
  "slow: Slow tests that take more than a few seconds",
  "api: Tests that require API access",
]
filterwarnings = [
  "ignore::FutureWarning",
  "ignore::DeprecationWarning",
]